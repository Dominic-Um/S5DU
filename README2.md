I fixed the code smells concerning repetitive code in the buttons, which makes you have to edit every button upon a revision, made them call a function instead.

I also fixed the global state/global variable of C which can cause bugs to become more difficult to track down, I encapsulated it.
